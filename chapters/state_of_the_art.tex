% !TEX root = ../dissertation.tex

\chapter{State of the Art}
\label{chapter:state_of_the_art}

\section{The world competition as a benchmark}
The General Game Playing annual world competition, held at the AAAI conference since 2005, has been the community accepted way to know what are the state of the art players. 
As of 2015, it uses a double-elimination tournament between the qualified players.
The qualification phase is open to anyone who wants to participate and consists of several tests designed to test stability and ability. All the players that surpass a threshold score are entered into the main tournament.


\section{The Tiltyard game server as a benchmark}

The Tiltyard game server, mentioned in section \ref{sssec:MeasuringPerformance}, is also a great way of comparing performance, since it constantly runs matches between the registered players and ranks them according to the \textit{Agon Skill} metric (explained in section \ref{sssec:AgonSkill}). This allows for more thorough testing of each player, as over time they are matched against more players and with more games than on a single competition. One of the downsides is that, unlike competitions, the games are not kept secret. However this is likely a small issue since there are no rewards for being the top player and as the game library grows it becomes increasingly impractical to make specializations for the games used by the Tiltyard game server.

\section{State of the art players}

Sancho and Galvanize also hold the 3 top spots on the Tiltyard server (they have multiple entries, like many other projects, because they have registered multiple versions on the site)

Sancho won the 2014 annual competition and currently holds 1st place in the Tiltyard server.
Galvanize is the current world champion.


Qualified Players for the 2015 Main Competition
%\begin{table}[]
%\centering
%\caption{My caption}
%\label{my-label}
%\resizebox{\textwidth}{!}{%
%\begin{tabular}{@{}llllllllll@{}}
%\toprule
%Name                  & Sancho & Galvanize & General & Alloy & QFWFQ & TurboTurtle & QuorumPlayer & LeJoueur & SteadyEddie \\ \midrule
%Result                &        & 1st       &         &       &       &             &              &          &             \\
%Reasoner              &        &           &         &       &       &             &              &          &             \\
%Planner               &        &           &         &       &       &             &              &          &             \\
%Additional Heuristics &        &           &         &       &       &             &              &          &             \\
%Creators              &        &           &         &       &       &             &              &          &             \\ \bottomrule
%\end{tabular}
%}
%\end{table}


%\begin{table}
%\newcommand{\TS}{p{1.35cm}}
%\small
%\begin{tabular}{| \TS | \TS | \TS | \TS | \TS | \TS | \TS | \TS | \TS | \TS |}
%
%\hline Name & Sancho & Galvanize & General & QFWFQ & Alloy & Turbo-Turtle & Quorum -Player & LeJoueur & Steady-Eddie \\
%\hline Result & a & b & c & d & e & f & g & h & i \\
%\hline Reasoner & a & b & c & d & e & f & g & h & i \\
%\hline Planner & a & b & c & d & e & f & g & h & i \\
%\hline Additional \par Heuristics & a & b & c & d & e & f & g & h & i \\
%\hline Creators & a & b & c & d & e & f & g & h & i \\
%
%\hline
%\end{tabular}
%\end{table}

\begin{table}[h]
\caption{Qualified Players for the 2015 Main Competition}
\label{2015 World Competition}
\small
%\begin{tabular}{| c | p{1cm} | p{2.5cm} | p{2.5cm} | p{2.8cm} | c | p{2.2cm} |}
\begin{tabular}{| c | c | c | c | p{2.5cm} | p{2.5cm} | p{2.5cm} |}
\hline  Name & Result & Reasoner & Planner & Additional \par Heuristics & Implementation & Creators \\

\hline  Galvanise & 1st : 192.72 & Prop. Network & MCTS with UCT & Yes, \par determined during game setup time & 1 Xeon (AWS) & Richard Emslie \\

\hline  Sancho & 2nd : 213.18 & Prop. Network & MCTS with UCT & Yes, \par determined during game setup time & 8 core i7 with 32GB RAM & Steve Draper \par Andrew Rose \\

%\hline  CadiaPlayer & - : 31.39 & Prop. Network & MCTS with UCT & Yes, \par determined during game setup time & 8 core i7 with 32GB RAM & Steve Draper \par Andrew Rose \\

\hline  Ari & - : 50.54 & ? & ? & ? & ? & ? \\

\hline  FluxPlayer & - : 34.05 & ? & ? & ? & ? & ? \\

\hline  Random & - : -359.75 & ? & ? & ? & ? & ggp.org \\


%\hline  TurboTurtle & 3rd & Prop- Network & MCTS with UCT & ? & ? & Sam Schreiber \\
%\hline  General & 4th & ? & ? & ? & ? & ? \\ %searched
%\hline  QuorumPlayer & 5th & ? & ? & ? & ? & ? \\ %searched
%\hline  Alloy & 6th & ? & ? & ? & ? & Alex \\ %searched
%\hline  QFWFQ & 7th & ? & ? & ? & ? & ? \\ %searched
%\hline  SteadyEddie & 8th & ? & ? & ? & ? & ? \\ %searched
%\hline  LeJoueur & 9th & ? & ? & ? & ? & ? \\ %searched

\hline
\end{tabular}
\end{table}


\subsection{Sancho}
\label{ssc:Sancho}
Champion in 2014 and currently the first place in the Tiltyard game server.

Like most recent game players, it uses \gls{MCTS} with \gls{UCT} as the  basis for it's game planner. The game planner has a few notable features: 

\begin{itemize}

\item Replacement of the MCTS tree with a more general graph, which allows for transitions between lines of play without duplication of nodes for any given state.

\item Active trimming of lines that have fully-determined outcomes, propagating those outcomes up the MCTS structure to the highest level at which they remain fully determined (with best play).

\item An efficient infrastructure for parallelization across threads.

\item Use of heuristics, determined during game setup time, to aid MCTS selection in preferentially expanding some branches.

For it's \gls{GDL} Reasoner it uses Propositional Networks and it's capable of identifying disjunctive factoring opportunities and significant latches (latches are game properties that after becoming \textit{true} can never change value throughout the rest of the game).

It's written in Java and for the 2015 world competition it ran on a computer with an 8 core Intel i7 with 32GB of RAM.

\end{itemize}


\subsection{Galvanize}
The current (2015) champion and the second place in the Tiltyard game server.
It's very similar to Sancho (\ref{ssc:Sancho}), at least from a high-level perspective. 

It also uses \gls{MCTS} with \gls{UCT} as the base for it's planner, with some dynamic techniques to balance the amount of computation given to the \textit{search} and \textit{backpropagation} steps of \gls{MCTS}. It seems to use a normal Monte Carlo Tree, unlike Sancho's more general graph (not mentioned by the developer). 
It's GDL Reasoner is also based on Propositional Networks, it's capable of game factorization and can optimize for inputs that keep switching between \textit{on} and \textit{off}, by storing both results instead of recalculating.

It's written in a mixture of Python and C++ (with all optimizations turned on), for the 2015 world competition it ran on an Amazon Web Services server with a single Intel Xeon processor. 

\section{Comparison}

UPDATE THIS

While in the early years of the competition there was a bigger focus on intelligent heuristics, Monte Carlo Tree Search (MCTS) has dominated the competition ever since, since itâ€™s domain independent (general), easy to parallelize and has shown better performance in most of the tested games. One of the most important features of MCTS is that the process of building the tree can be paused when necessary (for example when a turn ends) and continued at a later time. This allows a player to continue the simulations throughout the whole game, without restarting after each turn.
The variant of MCTS commonly used in GGP is called Upper Confidence Bounds Applied for Trees (UCT), which provides a simple method to balance tree exploration (search new branches) and exploitation (search deeper in the known branches).
